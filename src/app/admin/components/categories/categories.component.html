<section class="mt-4">
  
  <div class="container header-page  ">
    <div class="row align-items-center  px-5">
      <div class="col-8">
        <h3 class="mb-4">Categories</h3>
        <p class="mb-0">
          You can now add your items that any user can order it from <br />
          the Application and you can edit
        </p>
      </div>
      <div class="col-4 text-end">
        <img src="../../../../assets/images/category-avatar (1).svg" alt="" />
      </div>
    </div>
  </div>
  <div class="container  px-0 mt-3">
    <div class="row">
      <div class="mt-3 d-flex align-items-center justify-content-between">
        <div>
          <h4>Categories Table Details</h4>
          <p>You can check all details</p>
        </div>
        <div>
          <button class="main fs-6 px-2" (click)="openAddCategoryDialog()">Add New Category</button>
        </div>
      </div>
    </div>
  </div>

  <div class="container px-0 mt-3">
    <div class="input-group mb-3">
        <span class="input-group-text" id="basic-addon1"
          > <i class="fa-solid fa-magnifying-glass"></i>
        </span>
        <input
          [(ngModel)]="searchKey"
          (keyup.enter)="getCategories()"
          type="email"
          class="form-control"
          placeholder="Search By Name "
          aria-label="Username"
          aria-describedby="basic-addon1"
        />
  </div> </div>
  <div class="container" *ngIf="tableData.length>0">
    <div class="row">
        <table class="table table-striped mt-5 ">
            <thead class="  fs-5  ">
              <th>Name</th>
              <th>Creation Date</th>
              <th>Modification Date</th>
              <th>Actions</th>
            </thead>
      
            <tbody>
              <tr  *ngFor="let item of tableData">
                <td>{{item.name}}</td>
                <td>{{item.creationDate|date: 'dd/mm/yyyy  , h:mm  ,a' }}</td>
                <td>{{item.modificationDate |date: 'dd/mm/yyyy ,  h:mm  , a'}}</td>
                <td>
                  <button
                    mat-icon-button
                    [matMenuTriggerFor]="menu"
                    aria-label="Example icon-button with a menu"
                  >
                    <mat-icon color="primary">more_horiz</mat-icon>
                  </button>
                  <mat-menu #menu="matMenu">
                    <button mat-menu-item>
                      <mat-icon color="primary">visibility</mat-icon>
                      <span>View</span>
                    </button>
                    <button (click)="openEditCategoryDialog(item)" mat-menu-item>
                      <mat-icon color="primary">edit-square</mat-icon>
                      <span>edit</span>
                    </button>
                    <button (click)="openDeleteCategoryDialog(item)" mat-menu-item>
                      <mat-icon color="primary">delete</mat-icon>
                      <span>Delete</span>
                    </button>
                  </mat-menu>
                </td>
              </tr>
            </tbody>
          </table>
          <mat-paginator class="my-5" 
          [length]="tableResponse?.totalNumberOfRecords" 
           [pageSize]="tableResponse?.pageSize" 
           [pageIndex]="tableResponse?.pageNumber"
           [pageSizeOptions]="pageSizeOptions"
           (page)="handlePageEvent($event)"
           aria-label="Select page">
          </mat-paginator>
         <!--  undefined ==> totalNumberOfRecords  -->
    </div>
   
  </div>
  <div *ngIf="tableData.length==0">
     <div class="text-center">
        <img src="../../../../assets/images/no-data.svg" alt="">
         <h4 class="my-3">No Data</h4>
    </div>
  </div>
</section>
